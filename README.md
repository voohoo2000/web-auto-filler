# Web Auto Filler 🤖

![License](https://img.shields.io/badge/license-MIT-green) ![Status](https://img.shields.io/badge/status-Stable-blue) ![AI Generated](https://img.shields.io/badge/Code_By-Google_Gemini-orange)

**Web Auto Filler** 是一个强大的、基于规则的 Chrome 浏览器扩展，旨在自动化网页表单填写和页面交互。它允许用户定义复杂的“如果-那么”（If This Then That）规则，以此监控网页变化并自动填充字段或执行特定动作。

> **⚠️ 说明：** 本项目的源代码完全由 **Google Gemini** (AI) 通过迭代式提示工程生成。

---

## ✨ 核心功能

* **⚡ 实时页面监控：** 使用 `MutationObserver` 核心技术监测 DOM 变化，完美支持 React、Vue、Angular 等动态渲染的网页框架。
* **🎯 智能元素选择器：** 提供可视化的“点击即选”功能，无需编写任何代码即可精准定位页面元素。
* **🧠 智能匹配逻辑：**
    * 支持 **等于**、**不等于**、**包含** 等多种逻辑判断。
    * **增强的下拉框支持：** 智能识别 `<select>` 元素的 `value` (ID) 和 `text` (显示文本)，确保逻辑判断准确无误。
* **🔄 控件间动态赋值：** 支持将 控件A 的值（或页面上的任意文本）自动抓取并填入 控件B。
* **🌐 全局管理仪表盘：**
    * 集中管理所有网站的规则。
    * **离线编辑：** 支持在浏览 `google.com` 时编辑属于 `example.com` 的规则。
    * **全量备份：** 支持一键导出/导入所有站点的配置数据。
* **🕹️ 双重触发模式：**
    * **自动模式：** 满足条件立即执行（适合自动填表）。
    * **手动模式：** 在列表页显示“▶️ 运行”按钮，由用户点击触发（适合复杂场景）。
* **🛡️ 健壮的错误处理：** 自动处理插件更新后的上下文失效（Context Invalidated）问题，防止控制台报错刷屏。

---

## 🛠️ 安装说明 (开发者模式)

由于本扩展尚未发布到 Chrome 应用商店，您需要通过加载源代码的方式进行安装：

1.  **下载代码：** 点击下载 Zip 包或使用 Git 克隆本仓库：
    ```bash
    git clone https://github.com/voohoo2000/Web-Auto-Filler.git
    ```
2.  **打开扩展管理页：** 在 Chrome 浏览器地址栏输入 `chrome://extensions/` 并回车。
3.  **开启开发者模式：** 点击页面右上角的开关，开启 **“开发者模式” (Developer mode)**。
4.  **加载扩展：** 点击左上角的 **“加载已解压的扩展程序” (Load unpacked)**。
5.  **选择文件夹：** 选择包含本扩展文件的目录（即包含 `manifest.json` 的文件夹）。

---

## 📖 使用指南

### 1. 创建规则
1.  进入您想要自动化的网站。
2.  点击浏览器工具栏上的 **Web Auto Filler** 图标。
3.  点击 **“+ 新建规则”**。
4.  **设置触发条件 (IF)：**
    * 点击 🎯 图标，在页面上选择一个元素（例如：状态下拉框）。
    * 选择逻辑关系（例如：`等于` "待处理"）。
5.  **设置执行动作 (THEN)：**
    * 点击 🎯 图标，选择要填充的目标输入框。
    * 在类型下拉框中选择 **“固定值”**（手动输入文本）或 **“页面控件”**（抓取页面其他元素的值）。
6.  点击 **“保存”**。

### 2. 手动执行模式
如果您不希望规则自动运行，可以在编辑规则时将 **触发方式** 改为 **“👆 手动点击”**。之后您可以在插件列表中点击该规则旁的 “▶️” 按钮来手动触发。

### 3. 全局备份与恢复
1.  点击插件界面右上角的 **全球图标 (🌐)** 进入全局管理视图。
2.  使用右上角的 **“📥 全局导入”** / **“📤 全局导出”** 按钮，即可生成包含所有网站规则的 `JSON` 备份文件。

---

## 📂 项目结构

```text
WebAutoFiller/
├── manifest.json      # 扩展配置文件 (Manifest V3 标准)
├── content.js         # 核心逻辑 (DOM 监控、规则匹配与执行)
├── background.js      # 后台服务 (处理图标 Badge 计数)
├── popup.html         # 插件弹窗界面结构
├── popup.js           # 界面交互逻辑 (规则增删改查、导入导出)
├── style.css          # 界面样式表
└── icon.png           # 扩展程序图标